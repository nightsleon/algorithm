# Greedy 贪心算法

## 难度级别
Advanced

## 包含算法
- CoinChange - 硬币找零
- MaxCapacity - 最大容量（暴力解法）
- MaxCapacityDoublePoint - 最大容量（双指针）
- Trap - 接雨水
- **MaxProfit - 买卖股票的最佳时机（从ArrayStrSolution移入）**
- **CanJump - 跳跃游戏（从ArrayStrSolution移入）**
- **Jump - 跳跃游戏II（从ArrayStrSolution移入）**
- **CanCompleteCircuit - 加油站（从ArrayStrSolution移入）**
- **MaxSubArray - 最大子数组和（从ArrayStrSolution移入）**

## 贪心算法核心思想
贪心算法遵循"**局部最优选择导向全局最优**"的策略。每一步都选择当前状态下的最优解，相信这种局部最优能够导向全局最优。

### 贪心算法的特点：
1. **贪心选择性质**：局部最优选择能导致全局最优解
2. **最优子结构**：问题的最优解包含子问题的最优解
3. **无后效性**：当前的选择不会影响之前的选择

## 算法详解

### 💰 经济优化问题

#### 1. MaxProfit (121. 买卖股票的最佳时机)
**题目**: 在给定股票价格数组中，找到买卖一次获得的最大利润

**贪心策略**: 维护历史最低价
- **核心思想**: 在历史最低价买入，在当前价格卖出
- **步骤**: 遍历价格 → 更新最低价 → 计算当前利润 → 更新最大利润
- **时间复杂度**: O(n)
- **空间复杂度**: O(1)

**解题思路**:
1. 维护到当前为止的最低价格 minPrice
2. 对于每个价格，计算 prices[i] - minPrice 的利润
3. 更新最大利润

**关键技巧**: 一次遍历，贪心选择最低买入价格

#### 2. CanCompleteCircuit (134. 加油站)
**题目**: 在环形公路上找到能完成一圈的起始加油站

**贪心策略**: 总油量判断 + 起点优化
- **核心思想**: 如果总油量≥总消耗，一定有解；从油量不足的下一站重新开始
- **步骤**: 检查总体可行性 → 贪心选择起点 → 遇到不足时重置起点
- **时间复杂度**: O(n)
- **空间复杂度**: O(1)

**解题思路**:
1. 如果总油量 < 总消耗，无解
2. 遍历过程中，如果当前剩余油量 < 0，说明从之前起点无法到达当前位置
3. 贪心地将起点设为下一个加油站

**关键技巧**: 贪心重置起点，避免回溯

### 🦘 跳跃优化问题

#### 3. CanJump (55. 跳跃游戏)
**题目**: 判断是否能从数组第一个位置跳跃到最后一个位置

**贪心策略**: 维护最大可达距离
- **核心思想**: 维护当前能到达的最远位置
- **步骤**: 遍历数组 → 更新最大可达距离 → 判断是否能到达末尾
- **时间复杂度**: O(n)
- **空间复杂度**: O(1)

**解题思路**:
1. 维护变量 maxReach 表示当前能到达的最远位置
2. 只有在 i ≤ maxReach 时才能访问位置 i
3. 在每个可达位置更新 maxReach = max(maxReach, i + nums[i])

**关键技巧**: 贪心维护边界，及时剪枝

#### 4. Jump (45. 跳跃游戏II)
**题目**: 找到跳跃到最后一个位置的最少跳跃次数

**贪心策略**: 每次跳跃选择能到达最远位置的方案
- **核心思想**: 在当前跳跃范围内选择下一跳能到达最远的位置
- **步骤**: 维护当前边界 → 在边界内选择最优下一跳 → 到达边界时执行跳跃
- **时间复杂度**: O(n)
- **空间复杂度**: O(1)

**解题思路**:
1. 维护当前跳跃的边界 end
2. 在到达边界前，找到下一跳能到达的最远位置
3. 到达边界时，必须进行一次跳跃，更新边界

**关键技巧**: 贪心选择下一跳的最优位置

### 📊 数组优化问题

#### 5. MaxSubArray (53. 最大子数组和)
**题目**: 找到数组中和最大的连续子数组

**贪心策略**: Kadane算法
- **核心思想**: 对于每个位置，贪心选择：要么加入当前子数组，要么重新开始
- **步骤**: 维护当前和 → 贪心选择是否重新开始 → 更新最大和
- **时间复杂度**: O(n)
- **空间复杂度**: O(1)

**解题思路**:
1. 维护 currSum（当前子数组和）和 maxSum（全局最大和）
2. 对于每个元素，currSum = max(currSum + nums[i], nums[i])
3. 贪心选择：如果当前和为负，重新开始子数组

**关键技巧**: 贪心重置子数组起点

## 贪心算法设计步骤

### 🎯 问题分析
1. **确定贪心选择**: 找到每一步的局部最优选择
2. **证明贪心选择性质**: 证明局部最优能导向全局最优
3. **验证最优子结构**: 确认问题具有最优子结构

### 🔍 贪心策略类型
1. **活动选择**: 选择最早结束的活动（区间调度）
2. **最值维护**: 维护历史最值（股票、跳跃）
3. **边界控制**: 控制可达边界（跳跃游戏）
4. **重置策略**: 条件不满足时重置状态（加油站、子数组）

### ⚡ 优化技巧
1. **一次遍历**: 大多数贪心算法只需一次遍历
2. **状态维护**: 用变量维护关键状态信息
3. **及时剪枝**: 不满足条件时及时终止或重置
4. **边界处理**: 注意数组边界和特殊情况

## 时间复杂度分析
| 算法 | 时间复杂度 | 空间复杂度 | 贪心策略 |
|------|-----------|-----------|----------|
| MaxProfit | O(n) | O(1) | 维护历史最低价 |
| CanJump | O(n) | O(1) | 维护最大可达距离 |
| Jump | O(n) | O(1) | 选择最优跳跃位置 |
| CanCompleteCircuit | O(n) | O(1) | 重置起点策略 |
| MaxSubArray | O(n) | O(1) | 重置子数组策略 |

## 学习路径建议

### 🎯 初学者路径
1. **MaxProfit** - 理解贪心算法的基本思想
2. **MaxSubArray** - 学习Kadane算法的经典应用
3. **CanJump** - 掌握边界维护的贪心策略

### 🚀 进阶路径
1. **Jump** - 学习复杂的跳跃优化策略
2. **CanCompleteCircuit** - 理解重置策略的应用

## 贪心算法vs其他算法

### 🆚 贪心 vs 动态规划
- **贪心**: 局部最优，不可回溯，O(n)时间
- **动态规划**: 全局最优，考虑所有子问题，通常O(n²)时间

### 🆚 贪心 vs 暴力
- **贪心**: 智能选择，线性时间
- **暴力**: 穷举所有可能，指数时间

## 相关题目推荐
1. **121. Best Time to Buy and Sell Stock** - 贪心基础
2. **55. Jump Game** - 边界维护
3. **45. Jump Game II** - 跳跃优化
4. **53. Maximum Subarray** - Kadane算法
5. **134. Gas Station** - 重置策略
6. **435. Non-overlapping Intervals** - 区间调度
7. **452. Minimum Number of Arrows** - 区间合并

## 学习建议
1. 理解贪心算法的本质：局部最优导向全局最优
2. 学会识别贪心选择性质和最优子结构
3. 掌握证明贪心算法正确性的方法
4. 练习不同类型的贪心策略
5. 与动态规划对比，理解各自适用场景

## 相关资源
- [LeetCode Greedy 题目](https://leetcode.com/tag/greedy/)
- [贪心算法可视化](https://visualgo.net/en/greedy)
- [贪心算法理论](https://www.geeksforgeeks.org/greedy-algorithms/)