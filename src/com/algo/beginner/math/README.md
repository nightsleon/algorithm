# Math 数学算法

## 难度级别
Beginner

## 算法分类说明
本包专注于数学相关的算法，包括：
- **大整数运算**：数组表示的大整数加减法
- **数学计算**：阶乘、平方根、幂运算
- **位运算**：二进制操作、位操作技巧

## 包含算法详解

### 🔢 大整数运算算法

#### 1. PlusOne (66. 加一)
**题目**: 给定一个表示大整数的数组，将其加1并返回结果

**核心思想**: 模拟人工加法过程
- **步骤**: 从末尾开始逐位加1 → 处理进位 → 必要时扩展数组
- **时间复杂度**: O(n)
- **空间复杂度**: O(1) 原地操作，最坏情况O(n)

**解题思路**:
1. 从数组末尾开始遍历，逐位加1
2. 使用 `digits[i] %= 10` 统一处理进位和正常情况
3. 如果某位加1后不为0，说明无进位，直接返回
4. 如果遍历完仍有进位，创建新数组并在首位添加1

**关键技巧**:
- 用模运算统一处理进位：`digits[i] = (digits[i] + 1) % 10`
- 提前返回优化：一旦某位不需要进位，立即返回结果

**示例**:
```
输入: [1,2,3] → 输出: [1,2,4]
输入: [9,9,9] → 输出: [1,0,0,0]
```

### 📊 数学计算算法

#### 2. TrailingZeroes (172. 阶乘后的零)
**题目**: 计算 n! 结果中尾随零的数量

**核心思想**: 数学技巧 - 尾随零数量 = 因子5的数量
- **数学原理**: 2×5=10产生尾随零，2的因子总是比5多
- **时间复杂度**: O(log n)
- **空间复杂度**: O(1)

**解题思路**:
1. 理解尾随零由因子5的数量决定（因为2的因子总是比5多）
2. 使用公式：零的数量 = ⌊n/5⌋ + ⌊n/25⌋ + ⌊n/125⌋ + ...
3. 循环除以5，累加商的值

**关键技巧**:
- 避免直接计算阶乘（会溢出）
- 使用数学公式直接计算因子5的数量
- 每次循环计算一个公式项

**示例**:
```
输入: 5 → 输出: 1 (5! = 120，有1个尾随零)
输入: 25 → 输出: 6 (25! 有6个尾随零)
```

#### 3. MySqrt (69. x的平方根)
**题目**: 计算非负整数x的算术平方根（整数部分）

**核心思想**: 二分查找
- **搜索空间**: [1, x] 或 [0, x]
- **时间复杂度**: O(log x)
- **空间复杂度**: O(1)

**解题思路**:
1. 使用二分查找在[1, x]范围内搜索
2. 用 `x / mid` 代替 `mid * mid` 避免溢出
3. 比较 `x / mid` 与 `mid` 的大小关系
4. 记录候选结果，处理非精确平方根的情况

**关键技巧**:
- 避免整数溢出：使用除法代替乘法
- 记录候选结果：当 `mid² < x` 时，`mid` 可能是最接近的整数
- 提前返回：找到精确平方根时立即返回

**示例**:
```
输入: 8 → 输出: 2 (√8 ≈ 2.828，整数部分是2)
输入: 4 → 输出: 2 (√4 = 2)
```

#### 4. MyPow (50. Pow(x, n))
**题目**: 计算x的n次幂

**核心思想**: 快速幂算法（分治+递归）
- **数学原理**: x^n = (x^(n/2))^2 × x^(n%2)
- **时间复杂度**: O(log n)
- **空间复杂度**: O(log n) 递归栈深度

**解题思路**:
1. 处理负数指数：x^(-n) = 1 / x^n
2. 使用分治思想：将指数分解为 n/2 和 n%2
3. 递归计算 x^(n/2)
4. 根据奇偶性决定是否需要额外乘以x

**关键技巧**:
- 分治策略：将大问题分解为小问题
- 奇偶判断：偶数只需要y²，奇数需要y²×x
- 负数处理：使用long类型避免整数溢出

**递归示例**:
```
计算 2^5:
quickMul(2, 5) → quickMul(2, 2) → quickMul(2, 1) → quickMul(2, 0)
返回: 1 → 2 → 4 → 32
```

## 核心技巧总结

### 🔧 数学技巧
- **模运算统一处理**: 用 `% 10` 统一处理进位
- **数学公式应用**: 阶乘尾随零 = 因子5的数量
- **分治思想**: 将大问题分解为小问题（快速幂）
- **二分查找**: 在有序范围内高效搜索

### ⚡ 优化技巧
- **避免溢出**: 使用除法代替乘法，使用long类型
- **提前返回**: 一旦满足条件立即返回，避免不必要计算
- **递归优化**: 利用分治减少计算次数
- **边界处理**: 正确处理特殊情况（0、1、负数等）

### 📈 时间复杂度分析
| 算法 | 时间复杂度 | 空间复杂度 | 核心思想 |
|------|-----------|-----------|----------|
| PlusOne | O(n) | O(1) | 模拟加法 |
| TrailingZeroes | O(log n) | O(1) | 数学技巧 |
| MySqrt | O(log x) | O(1) | 二分查找 |
| MyPow | O(log n) | O(log n) | 快速幂 |

## 学习路径建议

### 🎯 初学者路径
1. **PlusOne** - 学习大整数运算和进位处理
2. **MySqrt** - 掌握二分查找在数学问题中的应用
3. **TrailingZeroes** - 理解数学技巧的重要性

### 🚀 进阶路径
1. **MyPow** - 学习分治思想和递归技巧
2. 深入理解数学原理在算法中的应用
3. 掌握更多数学算法（如素数判断、最大公约数等）

## 相关题目推荐
1. **66. Plus One** - 大整数运算基础
2. **172. Factorial Trailing Zeroes** - 数学技巧应用
3. **69. Sqrt(x)** - 二分查找经典应用
4. **50. Pow(x, n)** - 快速幂算法
5. **67. Add Binary** - 二进制加法
6. **190. Reverse Bits** - 位运算技巧
7. **191. Number of 1 Bits** - 位计数
8. **136. Single Number** - 位运算应用

## 学习建议
1. 理解数学原理在算法中的重要作用
2. 掌握避免整数溢出的技巧
3. 学会将数学问题转化为算法问题
4. 练习边界条件和特殊情况的处理
5. 理解分治思想在数学计算中的应用

## 相关资源
- [LeetCode Math 题目](https://leetcode.com/tag/math/)
- [数学算法可视化](https://visualgo.net/en/math)
- [快速幂算法详解](https://www.geeksforgeeks.org/modular-exponentiation-power-in-modular-arithmetic/)
- [二分查找应用](https://www.geeksforgeeks.org/binary-search/)
